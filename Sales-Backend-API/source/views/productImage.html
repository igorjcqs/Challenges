<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Product image</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha256-L/W5Wfqfa0sdBNIKN9cG6QA5F2qx4qICmU2VgLruv9Y="
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/material-design-icons/3.0.1/iconfont/material-icons.min.css"
      integrity="sha256-x8PYmLKD83R9T/sYmJn1j3is/chhJdySyhet/JuHnfY="
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/styles/dash.css" />
  </head>

  <body onload="prepare()">
        <main>
          <div id="mainContainer" class="container mt-5">
            <h1>Product image - {{productName}}</h1>
            <h2 id="productId">{{productId}}</h2>
            <div class="col mt-2">
              <div class="errortext1 text-center" id="errorMessageDiv">
                <p class="errorMessage mb-2 mt-5" id="errorMessageText">{{error}}</p>
              </div>
              <form
                method="post"
                action="/product/images/x"
                enctype="multipart/form-data"
                id="imageForm"
              >
                <div class="form-group mt-2 mb-4">
                  <label for="productImage">Product image</label>
                  <input type="file" name="imageUploadField" class="form-control" />
                </div>
                <div class="button text-center">
                  <input type="submit" class="btn btn-class"></input>
                </div>
              </form>
            </div>
            </div>
          </div>
        </main>
    <script>
      const form = document.querySelector("form");
      const productId = document.getElementById('productId').textContent;

      function prepare() {
          document.getElementById('imageForm').setAttribute('action', '/product/images/' + productId);
      }
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.bundle.min.js"
      integrity="sha256-OUFW7hFO0/r5aEGTQOz9F/aXQOt+TwqI1Z4fbVvww04="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-slimScroll/1.3.8/jquery.slimscroll.min.js"
      integrity="sha256-qE/6vdSYzQu9lgosKxhFplETvWvqAAlmAuR+yPh/0SI="
      crossorigin="anonymous"
    ></script>
  </body>
</html>
